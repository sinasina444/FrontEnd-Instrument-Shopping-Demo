{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport CartItem from '../components/CartItem.vue';\nexport default {\n  components: {\n    CartItem\n  },\n  data() {\n    return {\n      username: \"\",\n      cartList: [],\n      totalQnt: 0,\n      totalPrice: 0\n    };\n  },\n  created() {\n    this.username = localStorage.getItem('user');\n    this.getCartList();\n    // this.cartList = [\n    //     {\n    //         name: '智能手机',\n    //         category: '电子产品',\n    //         brand: 'Brand A',\n    //         price: 4999,\n    //         description: '一款高性能智能手机',\n    //         material: '金属',\n    //         stockQuantity: 50,\n    //         rating: 1,\n    //         quantity: 3\n    //     },\n    //     {\n    //         name: '笔记本电脑',\n    //         category: '电子产品',\n    //         brand: 'Brand B',\n    //         price: 8999,\n    //         description: '轻薄型笔记本电脑',\n    //         material: '铝合金',\n    //         stockQuantity: 30,\n    //         rating: 5,\n    //         quantity: 5\n    //     },\n    //     {\n    //         name: '运动鞋',\n    //         category: '服装',\n    //         brand: 'Brand C',\n    //         price: 599,\n    //         description: '透气舒适运动鞋',\n    //         material: '织物',\n    //         stockQuantity: 100,\n    //         rating: 3,\n    //         quantity: 2\n    //     },\n    // ]\n  },\n  methods: {\n    getCartList() {\n      let username = localStorage.getItem('user');\n      this.$axios.get('/ShoppingCart/getShoppingCart', {\n        params: {\n          username: username\n        }\n      }).then(response => {\n        console.log(response.data);\n        this.cartList = response.data['cartItems'];\n        let quantityTmp = 0;\n        let totalTmp = 0;\n        for (let i = 0; i < this.cartList.length; i++) {\n          quantityTmp += this.cartList[i].quantity;\n          totalTmp += this.cartList[i].totalPrice;\n        }\n        this.totalQnt = quantityTmp;\n        this.totalPrice = totalTmp;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    handleCommand(option) {\n      switch (option) {\n        case 'signout':\n          localStorage.removeItem('jwtToken');\n          this.$message({\n            message: 'Logout successful, please login again.',\n            type: 'success'\n          });\n          this.$router.push('/');\n          // 执行选项1的逻辑\n          break;\n        case 'profile':\n          this.$router.push('/profile');\n          break;\n        default:\n          break;\n      }\n    },\n    checkout() {\n      // this.cartList = [];\n      this.$message({\n        message: 'Checkout ' + this.totalQnt + ' items, $' + this.totalPrice + ' successful!',\n        type: 'success'\n      });\n    },\n    goBack() {\n      this.$router.back();\n    }\n  }\n};","map":{"version":3,"names":["CartItem","components","data","username","cartList","totalQnt","totalPrice","created","localStorage","getItem","getCartList","methods","$axios","get","params","then","response","console","log","quantityTmp","totalTmp","i","length","quantity","catch","error","handleCommand","option","removeItem","$message","message","type","$router","push","checkout","goBack","back"],"sources":["src/views/ShoppingCart.vue"],"sourcesContent":["<template>\n    <div>\n        <el-header>\n            <div class=\"header-container\">\n                <div class=\"header-left\">\n                    <img src=\"@/assets/music1.png\" alt=\"\">\n                    <div class=\"welcome-message\">\n                        {{ username }}, Here is the shopping cart!\n                    </div>\n                </div>\n                <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n                    <el-button type=\"text\">\n                        User Center <el-icon name=\"arrow-down\"></el-icon>\n                    </el-button>\n                    <el-dropdown-menu slot=\"dropdown\">\n                        <el-dropdown-item command=\"profile\">Profile</el-dropdown-item>\n                        <el-dropdown-item command=\"signout\">Sign Out</el-dropdown-item>\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </el-header>\n        <div class=\"product-list\">\n            <div class=\"title\">Shopping Cart</div>\n            <CartItem v-for=\"(product, index) in cartList\" :key=\"index\" :product=\"product\" />\n            <div class=\"bottomline\"></div>\n        </div>\n        <div class=\"total\">\n            Subtotal ({{ totalQnt }} items): ${{ totalPrice }}\n        </div>\n        <el-button type=\"primary\" @click=\"checkout\">Check Out</el-button>\n        <el-button @click=\"goBack\">Go Back</el-button>\n    </div>\n</template>\n\n<script>\nimport CartItem from '../components/CartItem.vue'\nexport default {\n    components: {\n        CartItem\n    },\n    data() {\n        return {\n            username: \"\",\n            cartList: [],\n            totalQnt: 0,\n            totalPrice: 0\n        };\n    },\n    created() {\n        this.username = localStorage.getItem('user');\n        this.getCartList();\n        // this.cartList = [\n        //     {\n        //         name: '智能手机',\n        //         category: '电子产品',\n        //         brand: 'Brand A',\n        //         price: 4999,\n        //         description: '一款高性能智能手机',\n        //         material: '金属',\n        //         stockQuantity: 50,\n        //         rating: 1,\n        //         quantity: 3\n        //     },\n        //     {\n        //         name: '笔记本电脑',\n        //         category: '电子产品',\n        //         brand: 'Brand B',\n        //         price: 8999,\n        //         description: '轻薄型笔记本电脑',\n        //         material: '铝合金',\n        //         stockQuantity: 30,\n        //         rating: 5,\n        //         quantity: 5\n        //     },\n        //     {\n        //         name: '运动鞋',\n        //         category: '服装',\n        //         brand: 'Brand C',\n        //         price: 599,\n        //         description: '透气舒适运动鞋',\n        //         material: '织物',\n        //         stockQuantity: 100,\n        //         rating: 3,\n        //         quantity: 2\n        //     },\n        // ]\n    },\n    methods: {\n        getCartList() {\n            let username = localStorage.getItem('user');\n            this.$axios.get('/ShoppingCart/getShoppingCart', {\n                params: {\n                    username: username\n                }\n            })\n                .then(response => {\n                    console.log(response.data);\n                    this.cartList = response.data['cartItems'];\n                    let quantityTmp = 0;\n                    let totalTmp = 0;\n                    for (let i = 0; i < this.cartList.length; i++) {\n                        quantityTmp += this.cartList[i].quantity;\n                        totalTmp += this.cartList[i].totalPrice;\n                    }\n                    this.totalQnt = quantityTmp;\n                    this.totalPrice = totalTmp;\n                })\n                .catch(error => {\n                    console.error(error);\n                });\n        },\n        handleCommand(option) {\n            switch (option) {\n                case 'signout':\n                    localStorage.removeItem('jwtToken');\n                    this.$message({\n                        message: 'Logout successful, please login again.',\n                        type: 'success'\n                    });\n                    this.$router.push('/');\n                    // 执行选项1的逻辑\n                    break;\n                case 'profile':\n                    this.$router.push('/profile');\n                    break;\n                default:\n                    break;\n            }\n        },\n        checkout() {\n            // this.cartList = [];\n            this.$message({\n                message: 'Checkout ' + this.totalQnt + ' items, $' + this.totalPrice + ' successful!',\n                type: 'success'\n            });\n        },\n        goBack() {\n            this.$router.back();\n        }\n\n    }\n};\n</script>\n\n<style scoped>\n.bottomline {\n    border-top: 1px solid grey;\n}\n\n.header-container {\n    display: flex;\n    justify-content: space-between;\n    /* 让内容两端对齐 */\n    align-items: center;\n    /* 垂直居中 */\n    padding: 0 20px;\n    /* 左右内边距 */\n    height: 100%;\n    /* 高度占满 */\n}\n\n.welcome-message {\n    font-size: 20px;\n    /* 字体大小 */\n    font-weight: bold;\n    /* 加粗字体 */\n    color: #409EFF;\n    /* 字体颜色，Element UI 的主题色 */\n    margin-left: 10px;\n}\n\n.header-left {\n    display: flex;\n    justify-content: space-between;\n    /* 让内容两端对齐 */\n    align-items: center;\n    /* 垂直居中 */\n    padding: 0 20px;\n    /* 左右内边距 */\n    height: 100%;\n    /* 高度占满 */\n}\n\n.el-table {\n    margin-top: 20px;\n}\n\n.product-list {\n    padding: 20px 100px;\n}\n\n.el-pagination {\n    margin-top: 20px;\n}\n\n.title {\n    margin-bottom: 20px;\n}\n\n.total {\n    margin: 20px;\n    text-align: right;\n    padding-right: 100px;\n    font-size: large;\n    font-weight: bolder;\n}\n</style>"],"mappings":";AAmCA,OAAAA,QAAA;AACA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,QAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAJ,QAAA,GAAAK,YAAA,CAAAC,OAAA;IACA,KAAAC,WAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,IAAAP,QAAA,GAAAK,YAAA,CAAAC,OAAA;MACA,KAAAG,MAAA,CAAAC,GAAA;QACAC,MAAA;UACAX,QAAA,EAAAA;QACA;MACA,GACAY,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAd,IAAA;QACA,KAAAE,QAAA,GAAAY,QAAA,CAAAd,IAAA;QACA,IAAAiB,WAAA;QACA,IAAAC,QAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,QAAAjB,QAAA,CAAAkB,MAAA,EAAAD,CAAA;UACAF,WAAA,SAAAf,QAAA,CAAAiB,CAAA,EAAAE,QAAA;UACAH,QAAA,SAAAhB,QAAA,CAAAiB,CAAA,EAAAf,UAAA;QACA;QACA,KAAAD,QAAA,GAAAc,WAAA;QACA,KAAAb,UAAA,GAAAc,QAAA;MACA,GACAI,KAAA,CAAAC,KAAA;QACAR,OAAA,CAAAQ,KAAA,CAAAA,KAAA;MACA;IACA;IACAC,cAAAC,MAAA;MACA,QAAAA,MAAA;QACA;UACAnB,YAAA,CAAAoB,UAAA;UACA,KAAAC,QAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACA,KAAAC,OAAA,CAAAC,IAAA;UACA;UACA;QACA;UACA,KAAAD,OAAA,CAAAC,IAAA;UACA;QACA;UACA;MACA;IACA;IACAC,SAAA;MACA;MACA,KAAAL,QAAA;QACAC,OAAA,qBAAAzB,QAAA,sBAAAC,UAAA;QACAyB,IAAA;MACA;IACA;IACAI,OAAA;MACA,KAAAH,OAAA,CAAAI,IAAA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}